Скрипт для автоматического подсчёта количества заявок по доменам через API. Он выполняет следующие задачи:      

Получает список всех доменов с сервера.     
Для каждого домена последовательно запрашивает страницы с заявками, подсчитывая общее число.     
Обрабатывает ошибки и ограничения API, использует паузы для предотвращения перегрузки.     
Формирует итоговую статистику по всем доменам, включая топ-домены по количеству заявок, домены без заявок и ошибки.    
Сохраняет результаты в JSON и CSV файлы.     
Взаимодействует с пользователем для выбора, какие домены обрабатывать (все, первые N, выборочно или тестовые).      

Логика обнаружения конца данных:     

Если получено меньше записей чем batch_size (и больше 0) - это последняя страница

Если получено ровно batch_size - продолжаем получать следующую страницу     

Если получено 0 записей, проверяем несколько страниц подряд (max_consecutive_empty = 3)     

Обработка ошибок:          

Разные типы исключений обрабатываются по-разному       

более подробное логирование        

защиата от бесконечного цикла:              

Счетчик подряд идущих пустых страниц                       

Таймауты и обработка ошибок соединения                       

отчетность:             

Разделила домены без заявок и домены с ошибками                  

Добавила скорость обработки для каждого домена                                          

Более подробная статистика# Domen_size
